{% extends "dash/dash.html" %}

{% block head %}
{% endblock %}

{% block content %}
<div class="flex flex-row justify-center items-center">
    <div class="w-fit flex flex-row items-center bg-slate-700 rounded-lg p-10 m-10 gap-5">
        <div class="flex flex-col">
            <table class="border-separate text-lg shadow-xl rounded-lg">
                <thead class=" bg-slate-900 text-white text-left">
                    <tr>
                        <th class="p-3 rounded-tl-lg">Resource</th>
                        <th class="p-3 rounded-tr-lg">Count</th>
                    </tr>
                </thead>
                <tbody class="text-white bg-slate-800 rounded-lg">
                    <tr>
                        <td class="p-3">Nodes</td>
                        <td class="p-3">{{ nodes }}</td>
                    </tr>
                    <tr>
                        <td class="p-3">Eggs</td>
                        <td class="p-3">{{ eggs }}</td>
                    </tr>
                    <tr>
                        <td class="p-3">Nests</td>
                        <td class="p-3">{{ nests }}</td>
                    </tr>
                    <tr>
                        <td class="p-3">Users</td>
                        <td class="p-3">{{ users }}</td>
                    </tr>
                    <tr>
                        <td class="p-3">Servers</td>
                        <td class="p-3">{{ servers }}</td>
                    </tr>
                </tbody>
            </table>
            <form action="/admin/sync">
                <button class="bg-slate-800 hover:bg-slate-600 duration-300 text-white font-bold rounded-md h-10 w-40 mt-5" type="submit"><i class="fa-solid fa-rotate"></i>&nbsp;Sync</button>
            </form>
        </div>
        <div class="flex flex-col items-center">
            <h2 class="text-white font-bold text-2xl mb-2">Nodes</h2>
            <table class="h-[500px] border-separate text-lg rounded-lg overflow-x-auto whitespace-nowrap block">
                <thead class=" bg-slate-900 text-white text-left">
                    <tr>
                        <th class="p-3 rounded-tl-lg">ID</th>
                        <th class="p-3">Name</th>
                        <th class="p-3">RAM</th>
                        <th class="p-3">Disk</th>
                        <th class="p-3 rounded-tr-lg">Ptero Id</th>
                    </tr>
                </thead>
                <tbody class="text-white bg-slate-800 rounded-lg">
                    {% set i = nodesData.length %}
                    {% for node in nodesData %}
                    {% set i = i - 1 %}
                    <tr>
                        {% if i == 0 %}
                        <td class="p-3 rounded-bl-lg">{{ node.id }}</td>
                        {% else %}
                        <td class="p-3">{{ node.id }}</td>
                        {% endif %}
                        <td class="p-3">{{ node.name }}</td>
                        <td class="p-3">{{ node.ram }}</td>
                        <td class="p-3">{{ node.disk }}</td>
                        <td class="p-3">{{ node.pteroId }}</td>
                    </tr>
                    {% endfor %}
                </tbody>
            </table>
        </div>
        <div class="flex flex-col items-center">
            <h2 class="text-white font-bold text-2xl mb-2">Eggs</h2>
            <table class="h-[500px] border-separate text-lg rounded-lg overflow-x-auto whitespace-nowrap block">
                <thead class=" bg-slate-900 text-white text-left">
                    <tr>
                        <th class="p-3 rounded-tl-lg">ID</th>
                        <th class="p-3">Name</th>
                        <th class="p-3 rounded-tr-lg">Ptero Id</th>
                    </tr>
                </thead>
                <tbody class="text-white bg-slate-800 rounded-lg">
                    {% set i = eggsData.length %}
                    {% for egg in eggsData %}
                    {% set i = i - 1 %}
                    <tr>
                        {% if i == 0 %}
                        <td class="p-3 rounded-bl-lg">{{ egg.id }}</td>
                        {% else %}
                        <td class="p-3">{{ egg.id }}</td>
                        {% endif %}
                        <td class="p-3">{{ egg.name }}</td>
                        <td class="p-3">{{ egg.pteroId }}</td>
                    </tr>
                    {% endfor %}
                </tbody>
            </table>
        </div>
        <div class="flex flex-col items-center">
            <h2 class="text-white font-bold text-2xl mb-2">Nests</h2>
            <table class="h-[500px] border-separate text-lg rounded-lg overflow-x-auto whitespace-nowrap block">
                <thead class=" bg-slate-900 text-white text-left">
                    <tr>
                        <th class="p-3 rounded-tl-lg">ID</th>
                        <th class="p-3">Name</th>
                        <th class="p-3 rounded-tr-lg">Ptero Id</th>
                    </tr>
                </thead>
                <tbody class="text-white bg-slate-800 rounded-lg">
                    {% set i = nestsData.length %}
                    {% for nest in nestsData %}
                    {% set i = i - 1 %}
                    <tr>
                        {% if i == 0 %}
                        <td class="p-3 rounded-bl-lg">{{ nest.id }}</td>
                        {% else %}
                        <td class="p-3">{{ nest.id }}</td>
                        {% endif %}
                        <td class="p-3">{{ nest.name }}</td>
                        <td class="p-3">{{ nest.pteroId }}</td>
                    </tr>
                    {% endfor %}
                </tbody>
            </table>
        </div>
    </div>
</div>
{% endblock %}